
// Light.cpp: implementation of the CLight class.
//
//////////////////////////////////////////////////////////////////////

#include "stdafx.h"
#include "Light.h"
#include "math.h"
#include "common.h"

//////////////////////////////////////////////////////////////////////
// Construction/Destruction
//////////////////////////////////////////////////////////////////////

CLight::CLight()
{
//    m_Texture = t;
    m_View.SetScreenSize(128, 128);
    SetAngle(3*M_PI/8);
	//SetAngle(M_PI/4);
	SetAngle(M_PI/2.2);
    SetPosition(0, 0, 0);
    SetDirection(0, 0, 0);
	Color(LC_WHITE);
}

//////////////////////////////////////////////////////////////////////

CLight::~CLight()
{
}

//////////////////////////////////////////////////////////////////////

void CLight::SetPosition(real x, real y, real z)
{
    m_View.SetOrigin(x, y, z);
}

//////////////////////////////////////////////////////////////////////

void CLight::SetDirection(real x, real y, real z)
{
    m_View.SetAngles(x, y, z);
}

//////////////////////////////////////////////////////////////////////

void CLight::SetAngle(real angle)
{
    m_View.SetFrustum((real)(8*tan(angle)), 16, 16);
}
